<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeviceBase</title>
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/themes/gray/easyui.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/themes/icon.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/themes/color.css') }}">
	<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/default.css') }}">
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/jquery.easyui.min.js') }}"></script>
	<script type="text/javascript" src="{{ url_for('static', filename='js/locale/easyui-lang-zh_CN.js') }}"></script>
</head>
<body style="width:100%;height:100%;margin:0px;padding:0px;">
    <table id="device" class="easyui-datagrid" title="" style="width:100%;height:100%;" 
        data-options="rownumbers:true,singleSelect:true,toolbar:'#tb',pagination:true">
        <thead>
            <tr>
                <th data-options="field:'id',width:120,hidden:true">id</th>
                <th data-options="field:'platform',width:120,align:'center'">platform</th>
                <th data-options="field:'name',width:120,align:'center'">name</th>
                <th data-options="field:'deviceid',width:280,align:'center'">deviceid</th>
                <th data-options="field:'virtualid',width:280,align:'center'">virtualid</th>
            </tr>
        </thead>
    </table>
    <div id="tb" style="padding:2px 5px;">
        <div style="font-size:14px;padding-top: 10px;">
            platform:&nbsp;<input class="easyui-combobox" id="platformS" style="width:100px;">
            <span style="padding-left: 10px;"></span>
            <a href="#" class="easyui-linkbutton c4" iconCls="icon-search" onclick="doSearch()" style="width:80px;">Search</a>
        </div>
    </div>
    <div id="ft" style="height:18px;padding:5px 5px;">
        
    </div>

    <div id="loadingDlg" class="easyui-dialog" style="width:200px;padding:10px;" data-options="" title="" closed="true" closable="false" modal="true">
        <div style="text-align:center;"><img src="{{ url_for('static', filename='images/loading.gif') }}"></div>
        <div style="text-align:center;">loading……</div>
    </div>

    <script type="text/javascript">
        function doSearch() {
            $('#device').datagrid({
                url: 'getAllDeviceDatagrid',
                method: 'POST',
                queryParams: {
                    platform: $('#platformS').combobox('getValue')
                }
            });
        }        

        $(document).ready(function(){
            $("#platformS").combobox({
                editable: false,
                panelHeight: 'auto',
				valueField: 'id',
    			textField: 'name',
    			url: 'getAllPlatformJson'
            });
        });
    </script>
</body>
</html>